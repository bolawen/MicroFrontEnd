System.register(["react","react-dom","single-spa-react"],function(Ee){"use strict";var oe,ce,se,B,J,N,K,F,ue,Y,Z,ee,te,w,fe,he;return{setters:[m=>{oe=m.Children,ce=m.isValidElement,se=m.Fragment,B=m.useContext,J=m.useMemo,N=m.createElement,K=m.createContext,F=m.useRef,ue=m.useEffect,Y=m.useCallback,Z=m.forwardRef,ee=m.useState,te=m.useLayoutEffect,w=m.default},m=>{fe=m.default},m=>{he=m.default}],execute:function(){function m(){return m=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},m.apply(this,arguments)}var S;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(S||(S={}));var z=function(e){return e},U="beforeunload",Re="hashchange",pe="popstate";function Se(e){e===void 0&&(e={});var n=e,t=n.window,a=t===void 0?document.defaultView:t,r=a.history;function i(){var f=a.location,l=f.pathname,s=f.search,v=f.hash,y=r.state||{};return[y.idx,z({pathname:l,search:s,hash:v,state:y.usr||null,key:y.key||"default"})]}var o=null;function c(){if(o)d.call(o),o=null;else{var f=S.Pop,l=i(),s=l[0],v=l[1];if(d.length){if(s!=null){var y=h-s;y&&(o={action:f,location:v,retry:function(){H(y*-1)}},H(y))}}else j(f)}}a.addEventListener(pe,c);var u=S.Pop,p=i(),h=p[0],g=p[1],P=G(),d=G();h==null&&(h=0,r.replaceState(m({},r.state,{idx:h}),""));function E(f){return typeof f=="string"?f:V(f)}function b(f,l){return l===void 0&&(l=null),z(m({pathname:g.pathname,hash:"",search:""},typeof f=="string"?L(f):f,{state:l,key:de()}))}function T(f,l){return[{usr:f.state,key:f.key,idx:l},E(f)]}function O(f,l,s){return!d.length||(d.call({action:f,location:l,retry:s}),!1)}function j(f){u=f;var l=i();h=l[0],g=l[1],P.call({action:u,location:g})}function M(f,l){var s=S.Push,v=b(f,l);function y(){M(f,l)}if(O(s,v,y)){var x=T(v,h+1),R=x[0],C=x[1];try{r.pushState(R,"",C)}catch{a.location.assign(C)}j(s)}}function I(f,l){var s=S.Replace,v=b(f,l);function y(){I(f,l)}if(O(s,v,y)){var x=T(v,h),R=x[0],C=x[1];r.replaceState(R,"",C),j(s)}}function H(f){r.go(f)}var _={get action(){return u},get location(){return g},createHref:E,push:M,replace:I,go:H,back:function(){H(-1)},forward:function(){H(1)},listen:function(l){return P.push(l)},block:function(l){var s=d.push(l);return d.length===1&&a.addEventListener(U,q),function(){s(),d.length||a.removeEventListener(U,q)}}};return _}function ke(e){e===void 0&&(e={});var n=e,t=n.window,a=t===void 0?document.defaultView:t,r=a.history;function i(){var l=L(a.location.hash.substr(1)),s=l.pathname,v=s===void 0?"/":s,y=l.search,x=y===void 0?"":y,R=l.hash,C=R===void 0?"":R,$=r.state||{};return[$.idx,z({pathname:v,search:x,hash:C,state:$.usr||null,key:$.key||"default"})]}var o=null;function c(){if(o)d.call(o),o=null;else{var l=S.Pop,s=i(),v=s[0],y=s[1];if(d.length){if(v!=null){var x=h-v;x&&(o={action:l,location:y,retry:function(){_(x*-1)}},_(x))}}else M(l)}}a.addEventListener(pe,c),a.addEventListener(Re,function(){var l=i(),s=l[1];V(s)!==V(g)&&c()});var u=S.Pop,p=i(),h=p[0],g=p[1],P=G(),d=G();h==null&&(h=0,r.replaceState(m({},r.state,{idx:h}),""));function E(){var l=document.querySelector("base"),s="";if(l&&l.getAttribute("href")){var v=a.location.href,y=v.indexOf("#");s=y===-1?v:v.slice(0,y)}return s}function b(l){return E()+"#"+(typeof l=="string"?l:V(l))}function T(l,s){return s===void 0&&(s=null),z(m({pathname:g.pathname,hash:"",search:""},typeof l=="string"?L(l):l,{state:s,key:de()}))}function O(l,s){return[{usr:l.state,key:l.key,idx:s},b(l)]}function j(l,s,v){return!d.length||(d.call({action:l,location:s,retry:v}),!1)}function M(l){u=l;var s=i();h=s[0],g=s[1],P.call({action:u,location:g})}function I(l,s){var v=S.Push,y=T(l,s);function x(){I(l,s)}if(j(v,y,x)){var R=O(y,h+1),C=R[0],$=R[1];try{r.pushState(C,"",$)}catch{a.location.assign($)}M(v)}}function H(l,s){var v=S.Replace,y=T(l,s);function x(){H(l,s)}if(j(v,y,x)){var R=O(y,h),C=R[0],$=R[1];r.replaceState(C,"",$),M(v)}}function _(l){r.go(l)}var f={get action(){return u},get location(){return g},createHref:b,push:I,replace:H,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(s){return P.push(s)},block:function(s){var v=d.push(s);return d.length===1&&a.addEventListener(U,q),function(){v(),d.length||a.removeEventListener(U,q)}}};return f}function q(e){e.preventDefault(),e.returnValue=""}function G(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter(function(a){return a!==t})}},call:function(t){e.forEach(function(a){return a&&a(t)})}}}function de(){return Math.random().toString(36).substr(2,8)}function V(e){var n=e.pathname,t=n===void 0?"/":n,a=e.search,r=a===void 0?"":a,i=e.hash,o=i===void 0?"":i;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function L(e){var n={};if(e){var t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));var a=e.indexOf("?");a>=0&&(n.search=e.substr(a),e=e.substr(0,a)),e&&(n.pathname=e)}return n}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ne=K(null),ae=K(null),Q=K({outlet:null,matches:[]});function k(e,n){if(!e)throw new Error(n)}function Ce(e,n,t){t===void 0&&(t="/");let a=typeof n=="string"?L(n):n,r=ye(a.pathname||"/",t);if(r==null)return null;let i=ve(e);Le(i);let o=null;for(let c=0;o==null&&c<i.length;++c)o=_e(i[c],r);return o}function ve(e,n,t,a){return n===void 0&&(n=[]),t===void 0&&(t=[]),a===void 0&&(a=""),e.forEach((r,i)=>{let o={relativePath:r.path||"",caseSensitive:r.caseSensitive===!0,childrenIndex:i,route:r};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(a)||k(!1),o.relativePath=o.relativePath.slice(a.length));let c=W([a,o.relativePath]),u=t.concat(o);r.children&&r.children.length>0&&(r.index===!0&&k(!1),ve(r.children,n,u,c)),!(r.path==null&&!r.index)&&n.push({path:c,score:He(c,r.index),routesMeta:u})}),n}function Le(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:Te(n.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}const Oe=/^:\w+$/,$e=3,Be=2,Ne=1,We=10,je=-2,me=e=>e==="*";function He(e,n){let t=e.split("/"),a=t.length;return t.some(me)&&(a+=je),n&&(a+=Be),t.filter(r=>!me(r)).reduce((r,i)=>r+(Oe.test(i)?$e:i===""?Ne:We),a)}function Te(e,n){return e.length===n.length&&e.slice(0,-1).every((a,r)=>a===n[r])?e[e.length-1]-n[n.length-1]:0}function _e(e,n){let{routesMeta:t}=e,a={},r="/",i=[];for(let o=0;o<t.length;++o){let c=t[o],u=o===t.length-1,p=r==="/"?n:n.slice(r.length)||"/",h=Ve({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p);if(!h)return null;Object.assign(a,h.params);let g=c.route;i.push({params:a,pathname:W([r,h.pathname]),pathnameBase:Pe(W([r,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(r=W([r,h.pathnameBase]))}return i}function Ve(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,a]=Me(e.path,e.caseSensitive,e.end),r=n.match(t);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:a.reduce((p,h,g)=>{if(h==="*"){let P=c[g]||"";o=i.slice(0,i.length-P.length).replace(/(.)\/+$/,"$1")}return p[h]=Ae(c[g]||""),p},{}),pathname:i,pathnameBase:o,pattern:e}}function Me(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0);let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,c)=>(a.push(c),"([^\\/]+)"));return e.endsWith("*")?(a.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r+=t?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(r,n?void 0:"i"),a]}function Ae(e,n){try{return decodeURIComponent(e)}catch{return e}}function De(e,n){n===void 0&&(n="/");let{pathname:t,search:a="",hash:r=""}=typeof e=="string"?L(e):e;return{pathname:t?t.startsWith("/")?t:Ie(t,n):n,search:Ke(a),hash:Fe(r)}}function Ie(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function ge(e,n,t){let a=typeof e=="string"?L(e):e,r=e===""||a.pathname===""?"/":a.pathname,i;if(r==null)i=t;else{let c=n.length-1;if(r.startsWith("..")){let u=r.split("/");for(;u[0]==="..";)u.shift(),c-=1;a.pathname=u.join("/")}i=c>=0?n[c]:"/"}let o=De(a,i);return r&&r!=="/"&&r.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function Je(e){return e===""||e.pathname===""?"/":typeof e=="string"?L(e).pathname:e.pathname}function ye(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=e.charAt(n.length);return t&&t!=="/"?null:e.slice(n.length)||"/"}const W=e=>e.join("/").replace(/\/\/+/g,"/"),Pe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ke=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ze(e){A()||k(!1);let{basename:n,navigator:t}=B(ne),{hash:a,pathname:r,search:i}=re(e),o=r;if(n!=="/"){let c=Je(e),u=c!=null&&c.endsWith("/");o=r==="/"?n+(u?"/":""):W([n,r])}return t.createHref({pathname:o,search:i,hash:a})}function A(){return B(ae)!=null}function D(){return A()||k(!1),B(ae).location}function Ue(){A()||k(!1);let{basename:e,navigator:n}=B(ne),{matches:t}=B(Q),{pathname:a}=D(),r=JSON.stringify(t.map(c=>c.pathnameBase)),i=F(!1);return ue(()=>{i.current=!0}),Y(function(c,u){if(u===void 0&&(u={}),!i.current)return;if(typeof c=="number"){n.go(c);return}let p=ge(c,JSON.parse(r),a);e!=="/"&&(p.pathname=W([e,p.pathname])),(u.replace?n.replace:n.push)(p,u.state)},[e,n,r,a])}function re(e){let{matches:n}=B(Q),{pathname:t}=D(),a=JSON.stringify(n.map(r=>r.pathnameBase));return J(()=>ge(e,JSON.parse(a),t),[e,a,t])}function qe(e,n){A()||k(!1);let{matches:t}=B(Q),a=t[t.length-1],r=a?a.params:{};a&&a.pathname;let i=a?a.pathnameBase:"/";a&&a.route;let o=D(),c;if(n){var u;let P=typeof n=="string"?L(n):n;i==="/"||((u=P.pathname)==null?void 0:u.startsWith(i))||k(!1),c=P}else c=o;let p=c.pathname||"/",h=i==="/"?p:p.slice(i.length)||"/",g=Ce(e,{pathname:h});return Ge(g&&g.map(P=>Object.assign({},P,{params:Object.assign({},r,P.params),pathname:W([i,P.pathname]),pathnameBase:P.pathnameBase==="/"?i:W([i,P.pathnameBase])})),t)}function Ge(e,n){return n===void 0&&(n=[]),e==null?null:e.reduceRight((t,a,r)=>N(Q.Provider,{children:a.route.element!==void 0?a.route.element:t,value:{outlet:t,matches:n.concat(e.slice(0,r+1))}}),null)}function ie(e){k(!1)}function xe(e){let{basename:n="/",children:t=null,location:a,navigationType:r=S.Pop,navigator:i,static:o=!1}=e;A()&&k(!1);let c=Pe(n),u=J(()=>({basename:c,navigator:i,static:o}),[c,i,o]);typeof a=="string"&&(a=L(a));let{pathname:p="/",search:h="",hash:g="",state:P=null,key:d="default"}=a,E=J(()=>{let b=ye(p,c);return b==null?null:{pathname:b,search:h,hash:g,state:P,key:d}},[c,p,h,g,P,d]);return E==null?null:N(ne.Provider,{value:u},N(ae.Provider,{children:t,value:{location:E,navigationType:r}}))}function Qe(e){let{children:n,location:t}=e;return qe(le(n),t)}function le(e){let n=[];return oe.forEach(e,t=>{if(!ce(t))return;if(t.type===se){n.push.apply(n,le(t.props.children));return}t.type!==ie&&k(!1);let a={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(a.children=le(t.props.children)),n.push(a)}),n}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X(){return X=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},X.apply(this,arguments)}function be(e,n){if(e==null)return{};var t={},a=Object.keys(e),r,i;for(i=0;i<a.length;i++)r=a[i],!(n.indexOf(r)>=0)&&(t[r]=e[r]);return t}const Xe=["onClick","reloadDocument","replace","state","target","to"],Ye=["aria-current","caseSensitive","className","end","style","to","children"];function Ze(e){let{basename:n,children:t,window:a}=e,r=F();r.current==null&&(r.current=Se({window:a}));let i=r.current,[o,c]=ee({action:i.action,location:i.location});return te(()=>i.listen(c),[i]),N(xe,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:i})}function et(e){let{basename:n,children:t,window:a}=e,r=F();r.current==null&&(r.current=ke({window:a}));let i=r.current,[o,c]=ee({action:i.action,location:i.location});return te(()=>i.listen(c),[i]),N(xe,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:i})}function tt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const nt=Z(function(n,t){let{onClick:a,reloadDocument:r,replace:i=!1,state:o,target:c,to:u}=n,p=be(n,Xe),h=ze(u),g=at(u,{replace:i,state:o,target:c});function P(d){a&&a(d),!d.defaultPrevented&&!r&&g(d)}return N("a",X({},p,{href:h,onClick:P,ref:t,target:c}))}),we=Z(function(n,t){let{"aria-current":a="page",caseSensitive:r=!1,className:i="",end:o=!1,style:c,to:u,children:p}=n,h=be(n,Ye),g=D(),P=re(u),d=g.pathname,E=P.pathname;r||(d=d.toLowerCase(),E=E.toLowerCase());let b=d===E||!o&&d.startsWith(E)&&d.charAt(E.length)==="/",T=b?a:void 0,O;typeof i=="function"?O=i({isActive:b}):O=[i,b?"active":null].filter(Boolean).join(" ");let j=typeof c=="function"?c({isActive:b}):c;return N(nt,X({},h,{"aria-current":T,className:O,ref:t,style:j,to:u}),typeof p=="function"?p({isActive:b}):p)});function at(e,n){let{target:t,replace:a,state:r}=n===void 0?{}:n,i=Ue(),o=D(),c=re(e);return Y(u=>{if(u.button===0&&(!t||t==="_self")&&!tt(u)){u.preventDefault();let p=!!a||V(o)===V(c);i(e,{replace:p,state:r})}},[o,i,c,a,r,t,e])}function rt(){return w.createElement("div",null,"\u9996\u9875")}function it(){return w.createElement("div",null,"\u5173\u4E8E")}function lt(e){console.log("Micro-App-React props",e);const{base:n,mode:t}=e,a=t==="history"?Ze:et;return w.createElement(a,{basename:n},w.createElement(we,{to:"/"},"\u9996\u9875"),w.createElement(we,{to:"/about"},"\u5173\u4E8E"),w.createElement(Qe,null,w.createElement(ie,{path:"/",element:w.createElement(rt,null)}),w.createElement(ie,{path:"/about",element:w.createElement(it,null)})))}const ot=he({React:w,ReactDOM:fe,rootComponent:lt,errorBoundary(e,n,t){return w.createElement("div",null,"This renders when a catastrophic error occurs")}}),{bootstrap:ct,mount:st,unmount:ut,update:ft}=ot;Ee({bootstrap:ct,mount:st,unmount:ut,update:ft})}}});
